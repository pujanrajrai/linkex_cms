{% extends 'homebase.html' %}
{% load static %}
{% block content %}
    <!-- Hero Section -->
    <section
    class="relative min-h-[40vh] sm:min-h-[45vh] lg:min-h-[50vh] text-white bg-cover bg-center sm:bg-top flex flex-col justify-end"
    style="
      background-image: linear-gradient(
          rgba(19, 32, 45, 0.7),
          rgba(0, 1, 1, 0.9)
        ),
        url('{% static 'newimage/home1.png' %}');
    "
    id="home"
  >
    <div class="container mx-auto text-center px-4 sm:px-6 lg:px-14 max-w-7xl pb-8 lg:pb-16">
      <h1 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold mb-6 lg:mb-10 leading-tight">
        BECOME A Linkex Export AGENT
      </h1>
    </div>
  </section>
    

  <!-- Form Section -->
  <section class="bg-gray-50 py-16">
    <div class="container mx-auto px-4 sm:px-6 lg:px-14 max-w-7xl">
      <div class="text-center mb-12">
        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          BECOME A Linkex Export AGENT
        </h2>
        <div class="w-20 h-1 bg-secondary mx-auto rounded-full"></div>
        <p class="text-gray-600 mt-6 max-w-2xl mx-auto">
          Join our network of trusted partners and expand your business opportunities with Linkex Export.
        </p>
      </div>

      <!-- Messages -->
      {% if messages %}
        <div class="max-w-6xl mx-auto mb-8">
          {% for message in messages %}
            <div class="mb-4 p-4 rounded-lg border-l-4 {% if message.tags == 'success' %}bg-green-50 border-green-400 text-green-700{% elif message.tags == 'error' %}bg-red-50 border-red-400 text-red-700{% elif message.tags == 'warning' %}bg-yellow-50 border-yellow-400 text-yellow-700{% else %}bg-blue-50 border-blue-400 text-blue-700{% endif %}">
              <div class="flex">
                <div class="flex-shrink-0">
                  {% if message.tags == 'success' %}
                    <i class="fas fa-check-circle"></i>
                  {% elif message.tags == 'error' %}
                    <i class="fas fa-exclamation-circle"></i>
                  {% elif message.tags == 'warning' %}
                    <i class="fas fa-exclamation-triangle"></i>
                  {% else %}
                    <i class="fas fa-info-circle"></i>
                  {% endif %}
                </div>
                <div class="ml-3">
                  <p class="text-sm font-medium">{{ message }}</p>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      {% endif %}

      <!-- Agency Request Form -->
      <div class="bg-white rounded-lg shadow-lg p-8 max-w-6xl mx-auto">
        <form method="post" class="space-y-8">
          {% csrf_token %}
          
          <!-- Form Non-Field Errors -->
          {% if request_form.non_field_errors %}
            <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-6">
              <div class="flex">
                <div class="flex-shrink-0">
                  <i class="fas fa-exclamation-circle text-red-400"></i>
                </div>
                <div class="ml-3">
                  <h3 class="text-sm font-medium text-red-800">Form Errors</h3>
                  <div class="mt-2 text-sm text-red-700">
                    {{ request_form.non_field_errors }}
                  </div>
                </div>
              </div>
            </div>
          {% endif %}
          
          <!-- Form Fields Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for field in request_form %}
              <div class="space-y-2">
                <label for="{{ field.id_for_label }}" class="block text-sm font-semibold text-gray-700">
                  {{ field.label }}
                  {% if field.field.required %}
                    <span class="text-red-500">*</span>
                  {% endif %}
                </label>
                
                <!-- Field Input -->
                <div class="relative">
                  {{ field }}
                  {% if field.errors %}
                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                      <i class="fas fa-exclamation-circle text-red-500"></i>
                    </div>
                  {% endif %}
                </div>
                
                <!-- Field Errors -->
                {% if field.errors %}
                  <div class="text-red-600 text-sm">
                    {% for error in field.errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}
                
                <!-- Field Help Text -->
                {% if field.help_text %}
                  <div class="text-gray-500 text-xs">
                    {{ field.help_text }}
                  </div>
                {% endif %}
              </div>
            {% endfor %}
          </div>

          <!-- Submit Button -->
          <div class="text-center pt-6">
            <button type="submit" class="bg-primary hover:bg-primary-dark text-white font-semibold px-8 py-3 rounded-lg transition duration-300 shadow-lg">
              Submit Application
            </button>
          </div>
        </form>
      </div>

      <!-- Additional Information -->
      <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
        <div class="text-center p-6 bg-white rounded-lg shadow">
          <div class="text-primary text-4xl mb-4">
            <i class="fas fa-handshake"></i>
          </div>
          <h3 class="text-xl font-semibold text-gray-900 mb-2">Partnership Benefits</h3>
          <p class="text-gray-600">Competitive commission rates and exclusive territory rights for our trusted partners.</p>
        </div>
        
        <div class="text-center p-6 bg-white rounded-lg shadow">
          <div class="text-primary text-4xl mb-4">
            <i class="fas fa-support"></i>
          </div>
          <h3 class="text-xl font-semibold text-gray-900 mb-2">Full Support</h3>
          <p class="text-gray-600">Complete training, marketing materials, and ongoing technical support.</p>
        </div>
        
        <div class="text-center p-6 bg-white rounded-lg shadow">
          <div class="text-primary text-4xl mb-4">
            <i class="fas fa-globe"></i>
          </div>
          <h3 class="text-xl font-semibold text-gray-900 mb-2">Global Network</h3>
          <p class="text-gray-600">Access to our worldwide logistics network and established partnerships.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Custom Styles for Form Fields -->
  <style>
    input, select, textarea {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 0.5rem;
      font-size: 1rem;
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #3A72AC;
      box-shadow: 0 0 0 3px rgba(58, 114, 172, 0.1);
    }
    
    /* Error state styling */
    .field-error input, .field-error select, .field-error textarea {
      border-color: #ef4444;
    }
    
    .field-error input:focus, .field-error select:focus, .field-error textarea:focus {
      border-color: #ef4444;
      box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
    }
    
    textarea {
      min-height: 100px;
      resize: vertical;
    }
  </style>

  <!-- Select2 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
  
  <!-- Select2 JS -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  
  <script>
    $(document).ready(function() {
      // Initialize Select2 for country field
      $('.select2-country').select2({
        theme: 'bootstrap-5',
        width: '100%',
        placeholder: 'Select a country',
        allowClear: true
      });
    });
  </script>
{% endblock %}
