{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Linkex Export - Worldwide Export, Import And Express Service</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://cdn.tailwindcss.com" as="script">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" as="style">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#ea4431",
              "primary-dark": "#c83826",
              "primary-light": "#ed6452",
              "primary-lighter": "#f18473",
              secondary: "#000101",
              "secondary-dark": "#000000",
              "secondary-light": "#333333",
              "secondary-lighter": "#555555",
              tertiary: "#1A589A",
              "tertiary-dark": "#144668",
              "tertiary-light": "#2D6BAD",
              "tertiary-lighter": "#407DC0",
              accent: "#ea4431",
              "accent-dark": "#c83826",
              "accent-light": "#ed6452",
            },
          },
        },
      };
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
      }
      
      /* Mobile menu styles */
      .mobile-menu {
        transform: translateX(100%);
        transition: transform 0.3s ease-in-out;
      }
      
      .mobile-menu.active {
        transform: translateX(0);
      }

      /* Optimize images for mobile */
      .hero-bg {
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
      }

      /* Smooth scrolling */
      html {
        scroll-behavior: smooth;
      }

      /* Loading animation */
      .loading {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s ease;
      }

      .loading.loaded {
        opacity: 1;
        transform: translateY(0);
      }

      /* Mobile optimizations */
      @media (max-width: 768px) {
        .container {
          padding-left: 1rem;
          padding-right: 1rem;
        }
        
        .mobile-text-center {
          text-align: center;
        }
        
        .mobile-p-4 {
          padding: 1rem;
        }
        
        .mobile-mb-4 {
          margin-bottom: 1rem;
        }

        /* Force mobile menu button to black on mobile */
        #mobile-menu-btn,
        #mobile-menu-btn i {
          color: #000 !important;
        }

        /* Ensure logo background is white on mobile */
        #navbar-logo2 {
          background: #ffffff !important;
        }
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <!-- Navbar -->
    <header
      id="main-navbar"
      class="absolute top-0 left-0 w-full z-20 bg-transparent text-white transition-all duration-300"
    >
      <div
        class="container mx-auto flex justify-between items-center p-3 px-4 md:px-14"
      >
      <a href="/">
        <img
          id="navbar-logo"
          src="{% static 'images/company/logo.png' %}"
          alt="Linkex Export Logo"
          class="h-10 md:h-16 lg:h-20 transition-all duration-300"
          loading="eager"
        />
      </a>
        <!-- Desktop Navigation -->
        <nav class="hidden lg:block">
          <ul class="flex gap-4 lg:gap-6 text-sm lg:text-md font-semibold">
            <li>
              <a
                href="/#"
                class="hover:text-primary hover:underline underline-offset-4 transition-colors duration-200"
                >Home</a
              >
            </li>
            <li>
                <a
                  href="/#about"
                  class="hover:text-primary hover:underline underline-offset-4 transition-colors duration-200"
                  >About Us</a
                >
              </li>
            <li>
              <a
                href="/#services"
                class="hover:text-primary hover:underline underline-offset-4 transition-colors duration-200"
                >Services</a
              >
            </li>
            
            <li>
              <a
                href="{% url 'agency_request' %}"
                class="hover:text-primary hover:underline underline-offset-4 transition-colors duration-200"
                >Be Our Agent</a
              >
            </li>
            <li>
              <a
                href="/#contact"
                class="hover:text-primary hover:underline underline-offset-4 transition-colors duration-200"
                >Contact</a
              >
            </li>
            <li>
              <a
                href="{% url 'accounts:pages:auth:login' %}"
                class="hover:text-primary hover:underline underline-offset-4 transition-colors duration-200"
                >Login</a
              >
            </li>
          </ul>
        </nav>
        
        <!-- Mobile Menu Button -->
        <button 
          id="mobile-menu-btn"
          class="lg:hidden text-white focus:outline-none p-2"
          aria-label="Toggle mobile menu"
        >
          <i class="fas fa-bars text-xl"></i>
        </button>
      </div>
      
      <!-- Mobile Navigation -->
      <div 
        id="mobile-menu"
        class="mobile-menu lg:hidden fixed top-0 right-0 w-full h-screen bg-primary z-50"
      >
        <div class="flex justify-between items-center p-4 border-b border-white/20">
          <a href="/">  
          <img
            src="{% static 'images/company/logo.png' %}"
            alt="Linkex Export Logo"
            class="h-8"
            id="navbar-logo2"
          />
          </a>
          <button 
            id="mobile-menu-close"
            class="text-white focus:outline-none p-2"
            aria-label="Close mobile menu"
          >
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <nav class="px-6 py-8">
          <ul class="space-y-4 text-lg font-semibold">
            <li>
              <a href="/#" class="block text-white hover:text-secondary py-3 border-b border-white/10 transition-colors duration-200">Home</a>
            </li>
            <li>
              <a href="/#about" class="block text-white hover:text-secondary py-3 border-b border-white/10 transition-colors duration-200">About Us</a>
            </li>
            <li>
              <a href="/#services" class="block text-white hover:text-secondary py-3 border-b border-white/10 transition-colors duration-200">Services</a>
            </li>
            <li>
              <a href="{% url 'agency_request' %}" class="block text-white hover:text-secondary py-3 border-b border-white/10 transition-colors duration-200">Be Our Agent</a>
            </li>
            <li>
              <a href="/#contact" class="block text-white hover:text-secondary py-3 border-b border-white/10 transition-colors duration-200">Contact</a>
            </li>
            <li>
              <a href="{% url 'accounts:pages:auth:login' %}" class="block text-white hover:text-secondary py-3 border-b border-white/10 transition-colors duration-200">Login</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>
    

    {% block content %}
    {% endblock %}

    <!-- Footer -->
    <footer class="bg-tertiary text-white py-8 lg:py-10">
      <div class="container mx-auto px-4 sm:px-6 lg:px-14 max-w-7xl">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8">
          <!-- Company Info Column -->
          <div class="space-y-4 lg:space-y-6 sm:col-span-2 lg:col-span-1">
            <div
              class="flex justify-center sm:justify-start items-center bg-white rounded-lg p-2 max-w-[180px] mx-auto sm:mx-0"
            >
              <img
                src="{% static 'images/company/logo.png' %}"
                alt="Linkex Export Logo"
                class="h-10 lg:h-14 w-auto transition-transform duration-300 hover:scale-105"
                loading="lazy"
              />
            </div>
            <div class="space-y-3 lg:space-y-4 text-center sm:text-left">
              <div class="space-y-2 text-white/80 text-sm lg:text-base">
                <p class="flex items-center justify-center sm:justify-start gap-2">
                  <span class="text-primary">üìû</span> 014562255 / +977 980-3833892
                </p>    
                <p class="flex items-center justify-center sm:justify-start gap-2">
                  <span class="text-primary">‚úâÔ∏è</span> linkexexport@gmail.com
                </p>
                <p class="flex items-center justify-center sm:justify-start gap-2">
                  <span class="text-primary">üìç</span> Bhaktapur-02, Nagdesh
                </p>
              </div>
              <div class="flex justify-center sm:justify-start space-x-4 pt-2">
                <a
                  href="https://www.facebook.com/share/17hxrMgc2J/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-white/80 hover:text-primary transition-colors text-sm lg:text-base flex items-center gap-2"
                  ><i class="fab fa-facebook"></i> Facebook</a
                >
              </div>
            </div>
          </div>

          <!-- Quick Links Column -->
          <div class="text-center sm:text-left">
            <h4 class="font-bold text-lg lg:text-xl mb-4 lg:mb-6 text-primary">Quick Links</h4>
            <div class="space-y-2 lg:space-y-3">
              <a
                href="#about"
                class="block text-white/80 hover:text-primary transition-colors text-sm lg:text-base"
                >About Us</a
              >
              <a
                href="#services"
                class="block text-white/80 hover:text-primary transition-colors text-sm lg:text-base"
                >Services</a
              >
              <a
                href="#track"
                class="block text-white/80 hover:text-primary transition-colors text-sm lg:text-base"
                >Tracking</a
              >
              <a
                href="#contact"
                class="block text-white/80 hover:text-primary transition-colors text-sm lg:text-base"
                >Contact</a
              >
              <a
                href="#faq"
                class="block text-white/80 hover:text-primary transition-colors text-sm lg:text-base"
                >Be Our Agent</a
              >
            </div>
          </div>

          <!-- Services Column -->
          <div class="text-center sm:text-left">
            <h4 class="font-bold text-lg lg:text-xl mb-4 lg:mb-6 text-primary">Services</h4>
            <div class="space-y-2 lg:space-y-3 text-white/80 text-sm lg:text-base">
              <p class="hover:text-primary transition-colors cursor-pointer">
                International Courier
              </p>
              <p class="hover:text-primary transition-colors cursor-pointer">
                Cargo & Freight
              </p>
              <p class="hover:text-primary transition-colors cursor-pointer">
                E-commerce Fulfillment
              </p>
              <p class="hover:text-primary transition-colors cursor-pointer">
                Document Delivery
              </p>
              <p class="hover:text-primary transition-colors cursor-pointer">
                Warehousing
              </p>
            </div>
          </div>

          <!-- Contact Info Column -->
          <div class="sm:col-span-2 lg:col-span-1">
            <h4 class="font-bold text-lg lg:text-xl mb-4 lg:mb-6 text-primary text-center sm:text-left">Connect With Us</h4>
            <div class="space-y-3 text-white/80 text-sm lg:text-base text-center sm:text-left">
              <p class="leading-relaxed">
                Follow us on social media for updates and news about our services.
              </p>
              <div class="pt-2">
                <a
                  href="https://www.facebook.com/share/17hxrMgc2J/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center gap-2 bg-primary hover:bg-primary-dark transition-colors px-4 py-2 rounded-lg"
                >
                  <i class="fab fa-facebook-f text-xl"></i>
                  <span>Visit Our Facebook Page</span>
                </a>
              </div>
              {% comment %} Google map not set yet {% endcomment %}
            </div>
          </div>
        </div>

        <!-- Copyright Section -->
        <div
          class="border-t border-white/20 mt-6 lg:mt-8 pt-4 lg:pt-6 text-center text-white/60 text-sm lg:text-base"
        >
          <p>&copy; 2024 Linkex Export. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      // Performance optimization: Debounce function
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      // Mobile menu functionality
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      const mobileMenuClose = document.getElementById('mobile-menu-close');
      
      mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.add('active');
        document.body.style.overflow = 'hidden'; // Prevent background scroll
      });
      
      mobileMenuClose.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
        document.body.style.overflow = ''; // Restore scroll
      });
      
      // Close mobile menu when clicking on a link
      mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.remove('active');
          document.body.style.overflow = '';
        });
      });

      // Close mobile menu when clicking outside
      document.addEventListener('click', (e) => {
        if (mobileMenu.classList.contains('active') && 
            !mobileMenu.contains(e.target) && 
            !mobileMenuBtn.contains(e.target)) {
          mobileMenu.classList.remove('active');
          document.body.style.overflow = '';
        }
      });

      // Current Date and Time functionality
      function updateDateTime() {
        const now = new Date();
        
        // Convert to Nepal time
        const nepalTime = new Date(now.toLocaleString("en-US", {timeZone: "Asia/Katmandu"}));
        
        // Format as YYYY:MM:DD HH:MM:SS
        const year = nepalTime.getFullYear();
        const month = String(nepalTime.getMonth() + 1).padStart(2, '0');
        const day = String(nepalTime.getDate()).padStart(2, '0');
        const hours = String(nepalTime.getHours()).padStart(2, '0');
        const minutes = String(nepalTime.getMinutes()).padStart(2, '0');
        const seconds = String(nepalTime.getSeconds()).padStart(2, '0');
        
        const formattedDateTime = `${year}:${month}:${day} ${hours}:${minutes}:${seconds} Asia/Katmandu`;
        
        // Display the formatted date and time
        const datetimeElement = document.getElementById('current-datetime');
        if (datetimeElement) {
          datetimeElement.textContent = formattedDateTime;
        }
      }
      
      // Update time immediately and then every second
      updateDateTime();
      setInterval(updateDateTime, 1000);

      // Navbar scroll functionality with debouncing
      const handleScroll = debounce(function () {
        const navbar = document.getElementById("main-navbar");
        const logo = document.getElementById("navbar-logo");
        
        if (window.scrollY > 10) {
          navbar.classList.add(
            "fixed",
            "bg-white",
            "text-primary",
            "shadow-lg",
            "z-50",
            "border-b-2",
            "border-primary"
          );
          navbar.classList.remove(
            "absolute",
            "bg-transparent",
            "text-white",
            "z-20",
            "border-b-0",
            "border-transparent"
          );
          if (logo) {
            logo.classList.remove("h-12", "md:h-16", "lg:h-20");
            logo.classList.add("h-8", "md:h-12", "lg:h-16");
          }
        } else {
          navbar.classList.remove(
            "fixed",
            "bg-white",
            "text-primary",
            "shadow-lg",
            "z-50",
            "border-b-2",
            "border-primary"
          );
          navbar.classList.add(
            "absolute",
            "bg-transparent",
            "text-white",
            "z-20",
            "border-b-0",
            "border-transparent"
          );
          if (logo) {
            logo.classList.remove("h-8", "md:h-12", "lg:h-16");
            logo.classList.add("h-10", "md:h-16", "lg:h-20");
          }
        }
      }, 10);

      window.addEventListener("scroll", handleScroll);

      // Lazy loading for images
      document.addEventListener('DOMContentLoaded', function() {
        const images = document.querySelectorAll('img[loading="lazy"]');
        
        if ('IntersectionObserver' in window) {
          const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src || img.src;
                img.classList.remove('loading');
                imageObserver.unobserve(img);
              }
            });
          });

          images.forEach(img => imageObserver.observe(img));
        }
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    </script>
  </body>
</html>
